{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ok\\\\ok\\\\Frontend\\\\Frontend\\\\src\\\\Components\\\\fillinsert.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ImageUpload() {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [previewImages, setPreviewImages] = useState([]);\n  const handleFileChange = e => {\n    const filesArray = Array.from(e.target.files).slice(0, 3); // Limit to 3 files\n    setSelectedFiles(filesArray);\n    setPreviewImages([]); // Clear previous previews\n\n    filesArray.forEach(file => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onloadend = () => {\n        setPreviewImages(prevImages => [...prevImages, reader.result]);\n      };\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    selectedFiles.forEach(file => {\n      formData.append('files', file);\n    });\n    try {\n      const response = await axios.post('http://localhost:8080/api/v1/files/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.status === 200) {\n        alert('Files uploaded successfully');\n        setPreviewImages([]);\n      }\n    } catch (error) {\n      console.error('Files uploaded successfully ', error);\n      alert('Files uploaded successfully');\n    }\n  };\n  const handleRemoveImage = indexToRemove => {\n    setPreviewImages(prevImages => prevImages.filter((_, index) => index !== indexToRemove));\n    setSelectedFiles(prevFiles => prevFiles.filter((_, index) => index !== indexToRemove));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n      className: \"p-5 text-lg font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800\",\n      children: \"FitConnect \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"dropzone-file\",\n        className: \"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center pt-5 pb-6 space-x-4\",\n          children: [previewImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: `Preview ${index + 1}`,\n              className: \"w-32 h-32 object-cover rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full\",\n              onClick: () => handleRemoveImage(index),\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faTimesCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 text-gray-500 dark:text-gray-400\",\n            \"aria-hidden\": \"true\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 20 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              stroke: \"currentColor\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2 text-sm text-gray-500 dark:text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Click to upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 72\n          }, this), \" or drag and drop\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 dark:text-gray-400\",\n          children: \"MP4,PNG,JPG  max-file-size=10MB (MAX. 800x400px)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"dropzone-file\",\n          type: \"file\",\n          className: \"hidden\",\n          onChange: handleFileChange,\n          accept: \"image/*, video/*\",\n          multiple: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",\n        disabled: selectedFiles.length === 0 // Disable button when no files are uploaded\n        ,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageUpload, \"2VlGvjsuokrc95srCggjBu46g4E=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","useState","axios","FontAwesomeIcon","faTimesCircle","jsxDEV","_jsxDEV","ImageUpload","_s","selectedFiles","setSelectedFiles","previewImages","setPreviewImages","handleFileChange","e","filesArray","Array","from","target","files","slice","forEach","file","reader","FileReader","readAsDataURL","onloadend","prevImages","result","handleSubmit","preventDefault","formData","FormData","append","response","post","headers","status","alert","error","console","handleRemoveImage","indexToRemove","filter","_","index","prevFiles","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","map","image","src","alt","onClick","icon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","id","type","onChange","accept","multiple","disabled","length","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/ok/ok/Frontend/Frontend/src/Components/fillinsert.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction ImageUpload() {\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [previewImages, setPreviewImages] = useState([]);\r\n\r\n  const handleFileChange = (e) => {\r\n    const filesArray = Array.from(e.target.files).slice(0, 3); // Limit to 3 files\r\n    setSelectedFiles(filesArray);\r\n    setPreviewImages([]); // Clear previous previews\r\n\r\n    filesArray.forEach((file) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onloadend = () => {\r\n        setPreviewImages((prevImages) => [...prevImages, reader.result]);\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    selectedFiles.forEach((file) => {\r\n      formData.append('files', file);\r\n    });\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8080/api/v1/files/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        alert('Files uploaded successfully');\r\n        setPreviewImages([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Files uploaded successfully ', error);\r\n      alert('Files uploaded successfully');\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = (indexToRemove) => {\r\n    setPreviewImages((prevImages) => prevImages.filter((_, index) => index !== indexToRemove));\r\n    setSelectedFiles((prevFiles) => prevFiles.filter((_, index) => index !== indexToRemove));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <caption className=\"p-5 text-lg font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800\">FitConnect </caption>\r\n      \r\n      <div className=\"flex flex-col items-center justify-center w-full\">\r\n        <label htmlFor=\"dropzone-file\" className=\"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600\">\r\n          <div className=\"flex items-center justify-center pt-5 pb-6 space-x-4\">\r\n            {previewImages.map((image, index) => (\r\n              <div key={index} className=\"relative\">\r\n                <img src={image} alt={`Preview ${index + 1}`} className=\"w-32 h-32 object-cover rounded-lg\" />\r\n                <button\r\n                  className=\"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full\"\r\n                  onClick={() => handleRemoveImage(index)}\r\n                >\r\n                  <FontAwesomeIcon icon={faTimesCircle} />\r\n                </button>\r\n              </div>\r\n            ))}\r\n            <svg className=\"w-8 h-8 text-gray-500 dark:text-gray-400\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 20 16\">\r\n              <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2\"/>\r\n            </svg>\r\n          </div>\r\n          <p className=\"mb-2 text-sm text-gray-500 dark:text-gray-400\"><span className=\"font-semibold\">Click to upload</span> or drag and drop</p>\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">MP4,PNG,JPG  max-file-size=10MB (MAX. 800x400px)</p>\r\n          <input id=\"dropzone-file\" type=\"file\" className=\"hidden\" onChange={handleFileChange} accept=\"image/*, video/*\" multiple />\r\n        </label>\r\n        <button \r\n          onClick={handleSubmit} \r\n          className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\r\n          disabled={selectedFiles.length === 0} // Disable button when no files are uploaded\r\n        >\r\n          Upload\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}